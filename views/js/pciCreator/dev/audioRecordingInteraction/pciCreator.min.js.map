{"version":3,"sources":["../../../qtiItemPci/views/js/pciCreator/dev/audioRecordingInteraction/creator/tpl/propertiesForm!tpl","../../../qtiItemPci/views/js/pciCreator/dev/audioRecordingInteraction/creator/widget/states/Question.js","../../../qtiItemPci/views/js/pciCreator/dev/audioRecordingInteraction/creator/widget/states/states.js","../../../qtiItemPci/views/js/pciCreator/dev/audioRecordingInteraction/creator/widget/Widget.js","../../../qtiItemPci/views/js/pciCreator/dev/audioRecordingInteraction/creator/tpl/markup!tpl","../../../qtiItemPci/views/js/pciCreator/dev/audioRecordingInteraction/pciCreator.js"],"names":["define","hb","template","Handlebars","depth0","helpers","partials","data","program1","program3","program5","program7","program9","this","compilerInfo","merge","stack1","helper","options","buffer","helperMissing","escapeExpression","self","__","hash","call","identifier","serial","allowPlayback","inverse","noop","fn","program","autoStart","maxRecords","maxRecordingTime","eq","recordingFormat","unless","isCompressed","audioBitrate","sampleRate","isStereo","useMediaStimulus","displayDownloadLink","_","$","stateFactory","Question","formElement","pciMediaManagerFactory","simpleEditor","containerEditor","formTpl","typeCaster","configChangeCallBack","interaction","value","name","prop","triggerPci","getProperties","AudioRecordingInteractionStateQuestion","extend","$container","widget","$prompt","find","element","create","change","text","updateMarkup","markup","markupSelector","related","areaBroker","getAreaBroker","destroy","prototype","initForm","$mediaStimulusForm","$compressedOptions","$uncompressedOptions","_widget","$form","response","getResponseDeclaration","pciMediaManager","html","attr","strToBool","isLossless","append","getForm","initWidget","setChangeCallbacks","assign","i","id","boundInteraction","hide","show","removeClass","getChangeCallbacks","init","factory","states","createBundle","arguments","Widget","registerHelper","arg1","arg2","AudioRecordingInteractionWidget","clone","initCreator","registerStates","prompt","ciRegistry","markupTpl","getTypeIdentifier","getWidget","getDefaultProperties","media","autostart","replayTimeout","maxPlays","afterCreate","getMarkupTemplate","getMarkupData","pci","defaultData","PCI"],"mappings":"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","file":"pciCreator.min.js","sourcesContent":["\ndefine('tpl!audioRecordingInteraction/creator/tpl/propertiesForm', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\", self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"checked=\\\"checked\\\"\";\n  }\n\nfunction program3(depth0,data) {\n  \n  \n  return \"selected\";\n  }\n\nfunction program5(depth0,data) {\n  \n  \n  return \"style=\\\"display:none\\\"\";\n  }\n\nfunction program7(depth0,data) {\n  \n  \n  return \" selected=\\\"selected\\\"\";\n  }\n\nfunction program9(depth0,data) {\n  \n  \n  return \" hidden\";\n  }\n\n  buffer += \"<div class=\\\"panel\\\">\\n    <label for=\\\"\\\" class=\\\"has-icon\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Response identifier\", options) : helperMissing.call(depth0, \"__\", \"Response identifier\", options)))\n    + \"</label>\\n    <span class=\\\"icon-help tooltipstered\\\" data-tooltip=\\\"~ .tooltip-content:first\\\" data-tooltip-theme=\\\"info\\\"></span>\\n    <div class=\\\"tooltip-content\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The identifier of the choice. This identifier must not be used by any other response or item variable. An identifier is a string of characters that must start with a Letter or an underscore (\\\"_\\\") and contain only Letters, underscores, hyphens (\\\"-\\\"), period (\\\".\\\", a.k.a. full-stop), Digits, CombiningChars and Extenders.\", options) : helperMissing.call(depth0, \"__\", \"The identifier of the choice. This identifier must not be used by any other response or item variable. An identifier is a string of characters that must start with a Letter or an underscore (\\\"_\\\") and contain only Letters, underscores, hyphens (\\\"-\\\"), period (\\\".\\\", a.k.a. full-stop), Digits, CombiningChars and Extenders.\", options)))\n    + \"</div>\\n\\n    <input type=\\\"text\\\"\\n           name=\\\"identifier\\\"\\n           value=\\\"\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"\\n           placeholder=\\\"e.g. RESPONSE\\\"\\n           data-validate=\\\"$notEmpty; $qtiIdentifier; $availableIdentifier(serial=\";\n  if (helper = helpers.serial) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.serial); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \");\\\">\\n</div>\\n\\n<div class=\\\"panel\\\">\\n    <label>\\n        <input name=\\\"allowPlayback\\\" type=\\\"checkbox\\\" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.allowPlayback), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"/>\\n        <span class=\\\"icon-checkbox\\\"></span> \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow playback\", options) : helperMissing.call(depth0, \"__\", \"Allow playback\", options)))\n    + \"\\n    </label>\\n    <span class=\\\"icon-help tooltipstered\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n    <span class=\\\"tooltip-content\\\">\\n        \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Give the possibility to the test taker to playback its own recording.\", options) : helperMissing.call(depth0, \"__\", \"Give the possibility to the test taker to playback its own recording.\", options)))\n    + \"\\n    </span>\\n</div>\\n\\n<div class=\\\"panel\\\">\\n    <label>\\n        <input name=\\\"autoStart\\\" type=\\\"checkbox\\\" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.autoStart), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"/>\\n        <span class=\\\"icon-checkbox\\\"></span> \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Auto start recording\", options) : helperMissing.call(depth0, \"__\", \"Auto start recording\", options)))\n    + \"\\n    </label>\\n    <span class=\\\"icon-help tooltipstered\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n    <span class=\\\"tooltip-content\\\">\\n        \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Recording starts automatically once test taker give microphone use authorisation. If a media stimulus is used, then the recording starts automatically after the stimulus has been played.\", options) : helperMissing.call(depth0, \"__\", \"Recording starts automatically once test taker give microphone use authorisation. If a media stimulus is used, then the recording starts automatically after the stimulus has been played.\", options)))\n    + \"\\n    </span>\\n</div>\\n\\n<div class=\\\"panel\\\">\\n    <label for=\\\"maxRecords\\\" class=\\\"spinner\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Max attempts:\", options) : helperMissing.call(depth0, \"__\", \"Max attempts:\", options)))\n    + \"</label>\\n    <input name=\\\"maxRecords\\\" value=\\\"\";\n  if (helper = helpers.maxRecords) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.maxRecords); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"large\\\" data-increment=\\\"1\\\" data-min=\\\"0\\\" type=\\\"text\\\" />\\n    <span class=\\\"icon-help tooltipstered\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n    <span class=\\\"tooltip-content\\\">\\n        \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum number of recording attempts allowed to the test taker. Set to 0 to allow unlimited attempts. With a limit of 3, the test taker will be able to click 2 times on the reset button.\", options) : helperMissing.call(depth0, \"__\", \"Maximum number of recording attempts allowed to the test taker. Set to 0 to allow unlimited attempts. With a limit of 3, the test taker will be able to click 2 times on the reset button.\", options)))\n    + \"\\n    </span>\\n</div>\\n<div class=\\\"panel\\\">\\n    <label for=\\\"maxRecordingTime\\\" class=\\\"spinner\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Time limit:\", options) : helperMissing.call(depth0, \"__\", \"Time limit:\", options)))\n    + \"</label>\\n    <input name=\\\"maxRecordingTime\\\" value=\\\"\";\n  if (helper = helpers.maxRecordingTime) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.maxRecordingTime); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"large\\\" data-increment=\\\"10\\\" data-min=\\\"10\\\" type=\\\"text\\\" />\\n    <span class=\\\"icon-help tooltipstered\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n    <span class=\\\"tooltip-content\\\">\\n        \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"In seconds. Maximum recording time allowed (cannot be less than 10seconds). Recording will automatically stop once reached.\", options) : helperMissing.call(depth0, \"__\", \"In seconds. Maximum recording time allowed (cannot be less than 10seconds). Recording will automatically stop once reached.\", options)))\n    + \"\\n    </span>\\n</div>\\n\\n<hr />\\n\\n<div class=\\\"panel\\\">\\n    <label for=\\\"recordingFormat\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Recording format\", options) : helperMissing.call(depth0, \"__\", \"Recording format\", options)))\n    + \"</label>\\n    <span class=\\\"icon-help tooltipstered\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n    <span class=\\\"tooltip-content\\\">\\n        \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"With compressed recording, the audio is saved as a webm or ogg file (smaller size). With uncompressed, as a lossless Wav file (much bigger size).\", options) : helperMissing.call(depth0, \"__\", \"With compressed recording, the audio is saved as a webm or ogg file (smaller size). With uncompressed, as a lossless Wav file (much bigger size).\", options)))\n    + \"\\n    </span>\\n    <select name=\\\"recordingFormat\\\">\\n        <option value=\\\"compressed_lossy\\\" \";\n  stack1 = (helper = helpers.eq || (depth0 && depth0.eq),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.recordingFormat), \"compressed_lossy\", options) : helperMissing.call(depth0, \"eq\", (depth0 && depth0.recordingFormat), \"compressed_lossy\", options));\n  stack1 = helpers['if'].call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Compressed (lossy)\", options) : helperMissing.call(depth0, \"__\", \"Compressed (lossy)\", options)))\n    + \"</option>\\n        <option value=\\\"compressed_lossless\\\" \";\n  stack1 = (helper = helpers.eq || (depth0 && depth0.eq),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.recordingFormat), \"compressed_lossless\", options) : helperMissing.call(depth0, \"eq\", (depth0 && depth0.recordingFormat), \"compressed_lossless\", options));\n  stack1 = helpers['if'].call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Compressed (lossless)\", options) : helperMissing.call(depth0, \"__\", \"Compressed (lossless)\", options)))\n    + \"</option>\\n        <option value=\\\"uncompressed\\\" \";\n  stack1 = (helper = helpers.eq || (depth0 && depth0.eq),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.recordingFormat), \"uncompressed\", options) : helperMissing.call(depth0, \"eq\", (depth0 && depth0.recordingFormat), \"uncompressed\", options));\n  stack1 = helpers['if'].call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Uncompressed\", options) : helperMissing.call(depth0, \"__\", \"Uncompressed\", options)))\n    + \"</option>\\n    </select>\\n</div>\\n\\n<div data-role=\\\"compressedOptions\\\" \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.isCompressed), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\\n    <div class=\\\"panel\\\">\\n        <label for=\\\"audioBitrate\\\" class=\\\"spinner\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Audio bitrate:\", options) : helperMissing.call(depth0, \"__\", \"Audio bitrate:\", options)))\n    + \"</label>\\n        <input name=\\\"audioBitrate\\\" value=\\\"\";\n  if (helper = helpers.audioBitrate) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.audioBitrate); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"large\\\" data-increment=\\\"1000\\\" data-min=\\\"8000\\\" type=\\\"text\\\" />\\n        <span class=\\\"icon-help tooltipstered\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n        <span class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"In bps (bits per second). Set the tradeoff between audio quality and filesize. With the default value (20.000bps), a 2minutes recording weights roughly 300KB.\", options) : helperMissing.call(depth0, \"__\", \"In bps (bits per second). Set the tradeoff between audio quality and filesize. With the default value (20.000bps), a 2minutes recording weights roughly 300KB.\", options)))\n    + \"\\n        </span>\\n    </div>\\n    <div class=\\\"panel\\\">\\n        <label for=\\\"sampleRate\\\" class=\\\"spinner\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Sample Rate:\", options) : helperMissing.call(depth0, \"__\", \"Sample Rate:\", options)))\n    + \"</label>\\n        <input name=\\\"sampleRate\\\" value=\\\"\";\n  if (helper = helpers.sampleRate) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.sampleRate); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"large\\\" data-increment=\\\"50\\\" data-min=\\\"1000\\\" type=\\\"text\\\" />\\n        <span class=\\\"icon-help tooltipstered\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n        <span class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Lorem ipsum dolor\", options) : helperMissing.call(depth0, \"__\", \"Lorem ipsum dolor\", options)))\n    + \"\\n        </span>\\n    </div>\\n</div>\\n\\n<div data-role=\\\"uncompressedOptions\\\"  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCompressed), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\\n    <div class=\\\"panel\\\">\\n        <label for=\\\"isStereo\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Channels\", options) : helperMissing.call(depth0, \"__\", \"Channels\", options)))\n    + \"</label>\\n        <span class=\\\"icon-help tooltipstered\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n        <span class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Number of channels for the recording. Allow to cut the record size in half if used in mono.\", options) : helperMissing.call(depth0, \"__\", \"Number of channels for the recording. Allow to cut the record size in half if used in mono.\", options)))\n    + \"\\n        </span>\\n        <select name=\\\"isStereo\\\">\\n            <option value=\\\"false\\\"\";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.isStereo), {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Mono\", options) : helperMissing.call(depth0, \"__\", \"Mono\", options)))\n    + \"</option>\\n            <option value=\\\"true\\\"\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isStereo), {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Stereo\", options) : helperMissing.call(depth0, \"__\", \"Stereo\", options)))\n    + \"</option>\\n        </select>\\n    </div>\\n</div>\\n\\n<hr />\\n\\n<div class=\\\"panel\\\">\\n    <label>\\n        <input name=\\\"useMediaStimulus\\\" type=\\\"checkbox\\\" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.useMediaStimulus), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"/>\\n        <span class=\\\"icon-checkbox\\\"></span> \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Use media stimulus\", options) : helperMissing.call(depth0, \"__\", \"Use media stimulus\", options)))\n    + \"\\n    </label>\\n    <span class=\\\"icon-help tooltipstered\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n    <span class=\\\"tooltip-content\\\">\\n        \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This options allow to insert a media stimulus that will have to be played before recording can happen.\", options) : helperMissing.call(depth0, \"__\", \"This options allow to insert a media stimulus that will have to be played before recording can happen.\", options)))\n    + \"\\n    </span>\\n</div>\\n\\n<div class=\\\"panel\\\">\\n    <div class=\\\"media-stimulus-properties-form\";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.useMediaStimulus), {hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\"></div>\\n</div>\\n\\n<hr />\\n\\n<h3 class=\\\"txt-error\\\"><strong><span class=\\\"icon-warning\\\"></span> \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"For tests only\", options) : helperMissing.call(depth0, \"__\", \"For tests only\", options)))\n    + \"</strong></h3>\\n\\n<div class=\\\"panel\\\">\\n    <label>\\n        <input name=\\\"displayDownloadLink\\\" type=\\\"checkbox\\\" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.displayDownloadLink), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"/>\\n        <span class=\\\"icon-checkbox\\\"></span>\\n        \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow download\", options) : helperMissing.call(depth0, \"__\", \"Allow download\", options)))\n    + \"\\n    </label>\\n    <span class=\\\"icon-help tooltipstered\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n    <span class=\\\"tooltip-content\\\">\\n        \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This is for testing purposes only. Displays a link to download the recorded file once the recording stops. This shouldn't be used in a delivery context, as it would allow the test taker to download its own recording.\", options) : helperMissing.call(depth0, \"__\", \"This is for testing purposes only. Displays a link to download the recorded file once the recording stops. This shouldn't be used in a delivery context, as it would allow the test taker to download its own recording.\", options)))\n    + \"\\n    </span>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\n */\ndefine('audioRecordingInteraction/creator/widget/states/Question',[\n    'lodash',\n    'i18n',\n    'jquery',\n    'taoQtiItem/qtiCreator/widgets/states/factory',\n    'taoQtiItem/qtiCreator/widgets/interactions/states/Question',\n    'taoQtiItem/qtiCreator/widgets/helpers/formElement',\n    'taoQtiItem/qtiCreator/widgets/helpers/pciMediaManager/pciMediaManager',\n    'taoQtiItem/qtiCreator/editor/simpleContentEditableElement',\n    'taoQtiItem/qtiCreator/editor/containerEditor',\n    'tpl!audioRecordingInteraction/creator/tpl/propertiesForm',\n    'util/typeCaster'\n], function( _, __, $, stateFactory, Question, formElement, pciMediaManagerFactory, simpleEditor, containerEditor, formTpl, typeCaster){\n    'use strict';\n\n    var AudioRecordingInteractionStateQuestion = stateFactory.extend(Question, function create(){\n        var $container = this.widget.$container,\n            $prompt = $container.find('.prompt'),\n            interaction = this.widget.element;\n\n        containerEditor.create($prompt, {\n            change : function change(text){\n                interaction.data('prompt', text);\n                interaction.updateMarkup();\n            },\n            markup : interaction.markup,\n            markupSelector : '.prompt',\n            related : interaction,\n            areaBroker: this.widget.getAreaBroker()\n        });\n\n    }, function destroy(){\n        var $container = this.widget.$container,\n            $prompt = $container.find('.prompt');\n\n        simpleEditor.destroy($container);\n        containerEditor.destroy($prompt);\n    });\n\n    /**\n     * Change callback of form values\n     * @param {Object} interaction\n     * @param {*} value\n     * @param {String} name\n     */\n    function configChangeCallBack(interaction, value, name) {\n        interaction.prop(name, value);\n        interaction.triggerPci('configChange', [interaction.getProperties()]);\n    }\n\n    AudioRecordingInteractionStateQuestion.prototype.initForm = function initForm(){\n        var _widget = this.widget,\n            $form = _widget.$form,\n            interaction = _widget.element,\n            response = interaction.getResponseDeclaration(),\n            $mediaStimulusForm,\n            $compressedOptions,\n            $uncompressedOptions;\n\n        var pciMediaManager = pciMediaManagerFactory(_widget);\n\n        //render the form using the form template\n        $form.html(formTpl({\n            serial : response.serial,\n            identifier : interaction.attr('responseIdentifier'),\n\n            allowPlayback:          typeCaster.strToBool(interaction.prop('allowPlayback'), true),\n            autoStart:              typeCaster.strToBool(interaction.prop('autoStart'), false),\n            maxRecords:             interaction.prop('maxRecords'),\n            maxRecordingTime:       interaction.prop('maxRecordingTime'),\n\n            isCompressed:           typeCaster.strToBool(interaction.prop('isCompressed'), true),\n            isLossless:             typeCaster.strToBool(interaction.prop('isLossless'), true),\n\n            audioBitrate:           interaction.prop('audioBitrate'),\n            sampleRate:             interaction.prop('sampleRate'),\n            isStereo:               typeCaster.strToBool(interaction.prop('isStereo'), false),\n\n            useMediaStimulus:       typeCaster.strToBool(interaction.prop('useMediaStimulus'), false),\n\n            displayDownloadLink:    typeCaster.strToBool(interaction.prop('displayDownloadLink'), false),\n\n            recordingFormat:        interaction.prop('recordingFormat'),\n        }));\n\n        $mediaStimulusForm = $form.find('.media-stimulus-properties-form');\n        $mediaStimulusForm.append(pciMediaManager.getForm());\n\n        $compressedOptions = $form.find('[data-role=\"compressedOptions\"]');\n        $uncompressedOptions = $form.find('[data-role=\"uncompressedOptions\"]');\n\n        //init form javascript\n        formElement.initWidget($form);\n\n        //init data change callbacks\n        formElement.setChangeCallbacks($form, interaction, _.assign({\n            identifier : function identifier(i, value){\n                response.id(value);\n                interaction.attr('responseIdentifier', value);\n            },\n\n            allowPlayback:      configChangeCallBack,\n            autoStart:          configChangeCallBack,\n            maxRecords:         configChangeCallBack,\n            maxRecordingTime:   configChangeCallBack,\n\n            isCompressed: function isCompressed(boundInteraction, value, name) {\n                if (value === 'true') {\n                    $uncompressedOptions.hide();\n                    $compressedOptions.show();\n                } else {\n                    $uncompressedOptions.show();\n                    $compressedOptions.hide();\n                }\n                configChangeCallBack(boundInteraction, value, name);\n            },\n            isLossless:         configChangeCallBack,\n            audioBitrate:       configChangeCallBack,\n            sampleRate:         configChangeCallBack,\n            isStereo:           configChangeCallBack,\n\n            useMediaStimulus: function useMediaStimulusCb(boundInteraction, value, name) {\n                if (value) {\n                    $mediaStimulusForm.removeClass('hidden');\n                    $mediaStimulusForm.show(250);\n                } else {\n                    $mediaStimulusForm.hide(250);\n                }\n                configChangeCallBack(boundInteraction, value, name);\n            },\n\n            displayDownloadLink: configChangeCallBack,\n\n            // TODO: review it, only for demo purpose\n            recordingFormat: function(boundInteraction, value, name) {\n                switch (value) {\n                    case 'compressed_lossy':\n                        configChangeCallBack(boundInteraction, true, 'isCompressed');\n                        configChangeCallBack(boundInteraction, false, 'isLossless');\n\n                        $uncompressedOptions.hide();\n                        $compressedOptions.show();\n                        break;\n\n                    case 'compressed_lossless':\n                        configChangeCallBack(boundInteraction, true, 'isCompressed');\n                        configChangeCallBack(boundInteraction, true, 'isLossless');\n\n                        $uncompressedOptions.hide();\n                        $compressedOptions.show();\n                        break;\n\n                    case 'uncompressed':\n                        configChangeCallBack(boundInteraction, false, 'isCompressed');\n                        configChangeCallBack(boundInteraction, null, 'isLossless');\n\n                        $uncompressedOptions.show();\n                        $compressedOptions.hide();\n                        break;\n                }\n\n                configChangeCallBack(boundInteraction, value, name);\n            }\n\n        }, pciMediaManager.getChangeCallbacks()));\n\n        pciMediaManager.init();\n    };\n\n    return AudioRecordingInteractionStateQuestion;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\n */\ndefine('audioRecordingInteraction/creator/widget/states/states',[\n    'taoQtiItem/qtiCreator/widgets/states/factory',\n    'taoQtiItem/qtiCreator/widgets/interactions/customInteraction/states/states',\n    'audioRecordingInteraction/creator/widget/states/Question'\n], function(factory, states){\n    'use strict';\n\n    return factory.createBundle(states, arguments, ['answer', 'correct', 'map']);\n});\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\n */\ndefine('audioRecordingInteraction/creator/widget/Widget',[\n    'handlebars',\n    'taoQtiItem/qtiCreator/widgets/interactions/customInteraction/Widget',\n    'audioRecordingInteraction/creator/widget/states/states'\n], function(Handlebars, Widget, states){\n    'use strict';\n\n    // TODO: review it, only for demo purpose\n    Handlebars.registerHelper('eq', function(arg1, arg2) {\n        return arg1 === arg2;\n    });\n\n    var AudioRecordingInteractionWidget = Widget.clone();\n\n    AudioRecordingInteractionWidget.initCreator = function(){\n\n        this.registerStates(states);\n\n        Widget.initCreator.call(this);\n    };\n\n    return AudioRecordingInteractionWidget;\n});\n","\ndefine('tpl!audioRecordingInteraction/creator/tpl/markup', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\";\n\n\n  buffer += \"<div class=\\\"audioRecordingInteraction\\\">\\n    <div class=\\\"prompt\\\">\";\n  if (helper = helpers.prompt) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.prompt); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" </div>\\n    <div class=\\\"audio-rec\\\">\\n        <div class=\\\"media-stimulus\\\"> </div>\\n        <div class=\\\"input-meter\\\">\\n            <div class=\\\"leds\\\"> </div>\\n            <div class=\\\"mic\\\"> </div>\\n        </div>\\n        <div class=\\\"progress\\\"> </div>\\n        <div class=\\\"controls\\\"> </div>\\n    </div>\\n</div>\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\n */\ndefine('audioRecordingInteraction/pciCreator',[\n    'lodash',\n    'taoQtiItem/qtiCreator/editor/customInteractionRegistry',\n    'audioRecordingInteraction/creator/widget/Widget',\n    'tpl!audioRecordingInteraction/creator/tpl/markup'\n], function(_, ciRegistry, Widget, markupTpl){\n    'use strict';\n\n    var _typeIdentifier = 'audioRecordingInteraction';\n\n    var audioRecordingInteractionCreator = {\n        /**\n         * (required) Get the typeIdentifier of the custom interaction\n         *\n         * @returns {String}\n         */\n        getTypeIdentifier : function getTypeIdentifier(){\n            return _typeIdentifier;\n        },\n        /**\n         * (required) Get the widget prototype\n         * Used in the renderer\n         *\n         * @returns {Object} Widget\n         */\n        getWidget : function getWidget(){\n            return Widget;\n        },\n        /**\n         * (optional) Get the default properties values of the pci.\n         * Used on new pci instance creation\n         *\n         * @returns {Object}\n         */\n        getDefaultProperties : function getDefaultProperties(){\n            return {\n                allowPlayback:      true,\n                autoStart:          false,\n                maxRecords:         2,\n                maxRecordingTime:   120,\n\n                isCompressed:       true,\n                isLossless:         true,\n                audioBitrate:       20000,\n                sampleRate:         22050,\n                isStereo:           false,\n\n                useMediaStimulus:   false,\n                media: {\n                    autostart:      true,\n                    replayTimeout:  5,\n                    maxPlays:       2\n                },\n\n                displayDownloadLink: false,\n\n                // TODO: review it, only for demo purpose\n                recordingFormat: 'compressed_lossy',\n            };\n        },\n        /**\n         * (optional) Callback to execute on the\n         * Used on new pci instance creation\n         *\n         * @returns {Object}\n         */\n        afterCreate : function afterCreate(){\n            //do some stuff\n        },\n        /**\n         * (required) Gives the qti pci xml template\n         *\n         * @returns {function} handlebar template\n         */\n        getMarkupTemplate : function getMarkupTemplate(){\n            return markupTpl;\n        },\n        /**\n         * (optional) Allows passing additional data to xml template\n         *\n         * @returns {function} handlebar template\n         */\n        getMarkupData : function getMarkupData(pci, defaultData){\n            defaultData.prompt = pci.data('prompt');\n            return defaultData;\n        }\n    };\n\n    //since we assume we are in a tao context, there is no use to expose the a global object for lib registration\n    //all libs should be declared here\n    return audioRecordingInteractionCreator;\n});\n"]}